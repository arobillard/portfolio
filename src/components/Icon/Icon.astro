---
import { combineClasses, combineStyles } from '../../scripts/helpers';

const {
  link,
  icon,
  label,
  size,
  color,
  hover,
  class: extraClasses,
} = Astro.props;

const classes = ['icon'];

if (extraClasses) {
  classes.push(extraClasses);
}

const styles: object[] = [];

if (size) {
  styles.push({ prop: '--size', value: size });
}

if (color) {
  styles.push({ prop: '--color', value: color });
}

if (hover) {
  styles.push({ prop: '--hover', value: hover });
}

const IconTag = link ? 'a' : 'span';
---

<style define:vars={{ size, color, hover }}>
  @import './icon.css';
</style>

<IconTag
  class={combineClasses(classes)}
  href={link}
  style={combineStyles(styles)}
>
  <i>
    <svg>
      <use xlink:href={`/images/icons.svg#${icon}`}></use>
    </svg>
  </i>
  <span class="srt">{label}</span>
</IconTag>
